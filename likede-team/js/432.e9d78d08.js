"use strict";(self["webpackChunklikede"]=self["webpackChunklikede"]||[]).push([[432],{2026:function(t,e,a){a.r(e),a.d(e,{default:function(){return _}});var l=function(){var t=this,e=t._self._c;return e("div",[e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"grid-content bg-purple workorder",staticStyle:{"background-color":"#e9f3ff",height:"172px"}},[e("div",[e("span",[t._v("日销售统计： ")])]),e("div",{staticClass:"workorderbox"},[e("div",{staticClass:"workorder1"},[e("h2",[t._v(t._s(t.daysell.OrderCount))]),e("p",[t._v("当日销售量（个）")])]),e("div",{staticClass:"workorder2"},[e("h2",[t._v(t._s(t.daysell.OrderAmount))]),e("p",[t._v("当日销售额（元）")])]),e("div",{staticClass:"workorder3"},[e("h2",[t._v(t._s(t.daysell.TotalBill))]),e("p",[t._v("当日分成（元）")])])])])]),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"grid-content bg-purple-light sell",staticStyle:{"background-color":"rgb(251, 239, 232)",height:"172px"}},[e("div",[e("span",[t._v("月销售统计:")])]),e("div",{staticClass:"sellbox"},[e("div",{staticClass:"sell1"},[e("h2",[t._v(t._s(t.monthsell.OrderCount))]),e("p",[t._v("当月销售量（个）")])]),e("div",{staticClass:"sell2"},[e("h2",[t._v(t._s((t.monthsell.OrderAmount/1e6).toFixed(2)))]),e("p",[t._v("当月销售额（万元）")])]),e("div",{staticClass:"sell4"},[e("h2",[t._v(t._s((t.monthsell.TotalBill/100).toFixed(2)))]),e("p",[t._v("当月分成（元）")])])])])])],1),e("div",{staticClass:"main"},[e("div",{staticClass:"search"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[e("el-form-item",{attrs:{label:"合作商："}},[e("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},t._l(t.list,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})})),1)],1),e("el-form-item",[e("div",{staticClass:"block"},[e("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)]),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)],1),e("div",{staticClass:"stats"},[e("p",[e("span",[t._v("笔数统计："),e("i",[t._v(" "+t._s(t.monthsell.OrderCount)+" ")]),t._v("个")]),e("span",[t._v("收入统计： "),e("i",[t._v(t._s((t.monthsell.OrderAmount/100).toFixed(2)))]),t._v(" 元")]),e("span",[t._v("分成统计： "),e("i",[t._v(t._s((t.monthsell.TotalBill/100).toFixed(2)))]),t._v(" 元 ")])])]),e("div",{staticClass:"result"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.PartnerCollectList,border:""}},[e("el-table-column",{attrs:{prop:"date",label:"订单日期",width:"180"}}),e("el-table-column",{attrs:{prop:"ownerName",label:"合作商",width:"180"}}),e("el-table-column",{attrs:{prop:"ratio",label:"比例分成"}}),e("el-table-column",{attrs:{prop:"orderTotalMoney",label:"收入（元）"}}),e("el-table-column",{attrs:{prop:"orderCount",label:"笔数"}}),e("el-table-column",{attrs:{prop:"totalBill",label:"分成金额（元）"}})],1)],1)])],1)},r=[],s=a(1602),o=a.n(s),n=a(471);const i=t=>n.Z.get("/api/order-service/report/partnerCollect",{params:{...t}}),d=t=>n.Z.get("/api/user-service/partner/search",{params:{pageIndex:1,pageSize:1e5}}),c=(t,e)=>n.Z.get("/api/order-service/report/orderAmount",{params:{start:t,end:e}}),m=(t,e)=>n.Z.get("/api/order-service/report/totalBill",{params:{start:t,end:e}}),h=(t,e)=>n.Z.get("/api/order-service/report/orderCount",{params:{start:t,end:e}});var p={data(){return{formInline:{user:"",region:""},list:[],value:[o()().startOf("month").toDate(),o()().endOf("month").toDate()],daysell:{OrderAmount:0,TotalBill:0,OrderCount:0},monthsell:{OrderAmount:0,TotalBill:0,OrderCount:0},dayOfStart:o()(o()().startOf("day").toDate()).format("YYYY-MM-DD HH:mm:ss"),dayOfEnd:o()(o()().endOf("day").toDate()).format("YYYY-MM-DD HH:mm:ss"),MonthStart:o()(o()().startOf("month").toDate()).format("YYYY-MM-DD HH:mm:ss"),MonthEnd:o()(o()().endOf("month").toDate()).format("YYYY-MM-DD HH:mm:ss"),PartnerCollectList:[]}},methods:{onSubmit(){this.PartnerCollectFn()},async PartnerSearchList(){const t=await d();this.list=t.currentPageRecords},async daysellFn(t,e){this.daysell.OrderAmount=await c(t,e),this.daysell.TotalBill=await m(t,e),this.daysell.OrderCount=await h(t,e)},async monthellFn(t,e){this.monthsell.OrderAmount=await c(t,e),this.monthsell.TotalBill=await m(t,e),this.monthsell.OrderCount=await h(t,e)},async PartnerCollectFn(t){const e=await i({start:o()(this.value[0]).format("YYYY-MM-DD"),end:o()(this.value[1]).format("YYYY-MM-DD"),pageIndex:1,pageSize:10,partnerName:this.formInline.region});e.currentPageRecords.forEach((t=>{t.ratio=t.ratio+"%",t.orderTotalMoney="+ "+t.orderTotalMoney/100,t.totalBill="+ "+t.totalBill/100})),this.PartnerCollectList=e.currentPageRecords}},created(){this.PartnerSearchList(),this.daysellFn(this.dayOfStart,this.dayOfEnd),this.monthellFn(this.MonthStart,this.MonthEnd),this.PartnerCollectFn()}},u=p,v=a(1001),f=(0,v.Z)(u,l,r,!1,null,"2a868c7e",null),_=f.exports}}]);
//# sourceMappingURL=432.e9d78d08.js.map