"use strict";(self["webpackChunklikede"]=self["webpackChunklikede"]||[]).push([[981],{5981:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"goodstypepage"},[t("div",{staticClass:"goodspage"},[t("el-form",{ref:"searchForm",staticClass:"titleform",staticStyle:{"line-height":"36px"},attrs:{inline:!0,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"商品类型搜索"}},[t("el-input",{staticClass:"searchipt",attrs:{placeholder:"请输入"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),t("el-button",{staticClass:"searchbtn",attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.searchGood}},[e._v("查询")])],1)],1),t("div",{staticClass:"goodsbody"},[t("el-button",{staticClass:"addbtn",attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("新建")]),t("el-dialog",{attrs:{title:"新增商品类型",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"form",attrs:{"label-width":"120px",inline:!0,rules:e.rules,model:e.form}},[t("el-form-item",{attrs:{label:"商品类型名称",prop:"className"}}),t("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.form.className,callback:function(t){e.$set(e.form,"className","string"===typeof t?t.trim():t)},expression:"form.className"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancel}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addGoodFn}},[e._v("确 定")])],1)],1),[t("el-table",{staticClass:"tablebox",staticStyle:{width:"100% font-size:10px"},attrs:{data:e.list,"header-cell-style":{background:"#f3f6fb"}}},[t("el-table-column",{attrs:{label:"序号",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getIndex(t.row.classId)+1)+" ")]}}])}),t("el-table-column",{ref:"gooditem",attrs:{prop:"className",label:"商品类型名称",width:"980"}}),t("el-table-column",{attrs:{prop:"address",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"actions"},[t("el-button",{staticStyle:{color:"#4368e6"},attrs:{type:"text"},on:{click:function(t){return e.editGood(s.row.classId,s.row.className)}}},[e._v("修改")]),t("el-button",{staticStyle:{color:"#ff5a5a"},attrs:{type:"text"},on:{click:function(t){return e.delFn(s.row.classId)}}},[e._v("删除")])],1)]}}])})],1),t("el-dialog",{attrs:{title:"修改商品类型",visible:e.dialogVisibleTwo,width:"60%"},on:{"update:visible":function(t){e.dialogVisibleTwo=t}}},[t("el-form",{ref:"editform",attrs:{"label-width":"120px",inline:!0,rules:e.rules,model:e.editForm}},[t("el-form-item",{attrs:{label:"商品类型名称",prop:"className"}}),t("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.editForm.className,callback:function(t){e.$set(e.editForm,"className",t)},expression:"editForm.className"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.editCancel}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.editSubmit}},[e._v("确 定")])],1)],1),t("el-pagination",{attrs:{"current-page":e.pageIndex,"page-size":e.pageSize,background:"",layout:"total,prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})]],2)])},i=[],l=s(3373),r={name:"GoodsType",data(){return{dialogVisible:!1,dialogVisibleTwo:!1,pageIndex:1,pageSize:10,totalPage:"",total:0,list:[],searchList:[],searchName:"",form:{className:""},editForm:{className:"",id:0},rules:{className:[{required:!0,message:"请输入标题",trigger:["blur","change"]}]}}},created(){this.getList()},methods:{async getList(){const e=await(0,l.oo)({pageIndex:this.pageIndex,pageSize:this.pageSize});this.list=e.currentPageRecords,this.total=parseInt(e.totalCount)},handleCurrentChange(e){this.pageIndex=e,this.getList()},getIndex(e){return this.list.findIndex((t=>t.classId===e))+10*(this.pageIndex-1)},async editGood(e,t){this.dialogVisibleTwo=!0,this.editForm.id=e,this.editForm.className=t},async editSubmit(){await(0,l.R_)(this.editForm.id,{className:this.editForm.className}),this.editCancel(),this.getList()},async addGoodFn(){try{await(0,l.Rq)(this.form),this.$message.success("添加成功")}catch(e){this.$message.error(e.response.data)}this.pageIndex=1,this.getList(),this.cancel()},async searchGood(){const e={pageIndex:this.pageIndex,pageSize:this.pageSize,className:this.searchName},t=await(0,l.kl)(e);this.list=t.currentPageRecords,this.pageIndex=parseInt(t.pageIndex),this.pageSize=parseInt(t.pageSize),this.totalPage=t.totalPage,this.total=parseInt(t.totalCount)},cancel(){this.dialogVisible=!1,this.$refs.form.resetFields()},editCancel(){this.dialogVisibleTwo=!1,this.$refs.editform.resetFields()},async delFn(e){try{await(0,l.IA)(e),this.$message.success("删除成功")}catch(t){this.$message.error(t.response.data)}this.getList()}}},o=r,n=s(1001),c=(0,n.Z)(o,a,i,!1,null,"4a6e7c8f",null),d=c.exports},3373:function(e,t,s){s.d(t,{BC:function(){return u},IA:function(){return r},LP:function(){return d},R_:function(){return n},Rq:function(){return o},XX:function(){return c},Ze:function(){return p},kl:function(){return l},oo:function(){return i}});var a=s(471);const i=e=>a.Z.get("/api/vm-service/skuClass/search",{params:e}),l=e=>a.Z.get("/api/vm-service/skuClass/search",{params:e}),r=e=>a.Z["delete"](`/api/vm-service/skuClass/${e}`),o=e=>a.Z.post("/api/vm-service/skuClass",e),n=(e,t)=>a.Z.put(`/api/vm-service/skuClass/${e}`,t),c=e=>a.Z.get("/api/vm-service/sku/search",{params:e}),d=e=>a.Z.post("/api/vm-service/sku",e),u=(e,t)=>a.Z.put(`/api/vm-service/sku/${t}`,e),p=e=>a.Z.get("/api/vm-service/sku/search",{params:e})}}]);
//# sourceMappingURL=981.781ba3a5.js.map