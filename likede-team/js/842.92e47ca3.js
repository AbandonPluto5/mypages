"use strict";(self["webpackChunklikede"]=self["webpackChunklikede"]||[]).push([[842],{5842:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ordertypepage"},[e("div",{staticClass:"orderspage"},[e("el-form",{staticClass:"titleform",staticStyle:{"line-height":"36px","padding-top":"20px"},attrs:{inline:!0,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"订单编号:","label-width":"80px"}},[e("el-input",{staticClass:"searchipt",attrs:{placeholder:"请输入订单编号"},model:{value:t.page.orderNo,callback:function(e){t.$set(t.page,"orderNo",e)},expression:"page.orderNo"}})],1)],1),e("div",{staticClass:"block"},[e("span",{staticClass:"demonstration"},[t._v("选择日期：")]),e("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd","unlink-panels":!0,type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),e("el-button",{staticClass:"addbtn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("查询")])],1)],1),e("div",{staticClass:"ordersbody"},[[e("el-table",{staticClass:"tablebox",staticStyle:{width:"100%","font-size":"10px"},attrs:{data:t.tableData,"header-cell-style":{background:"#f3f6fb"},"row-style":{height:"50px"}}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+10*(t.page.pageIndex-1)+1)+" ")]}}])}),e("el-table-column",{attrs:{prop:"orderNo",label:"订单编号",width:"180","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"skuName",label:"商品名称",width:"180"}}),e("el-table-column",{attrs:{prop:"price",label:"订单金额(元)"}}),e("el-table-column",{attrs:{prop:"innerCode",label:"设备编号"}}),e("el-table-column",{attrs:{prop:"status",label:"订单状态",formatter:t.formatStatus}}),e("el-table-column",{attrs:{prop:"updateTime",label:"订单日期"}}),e("el-table-column",{attrs:{prop:"address",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticStyle:{color:"#4368e6"},attrs:{type:"text"},on:{click:function(e){return t.detail(a.row.id)}}},[t._v("查看详情")])]}}])})],1)]],2),e("el-pagination",{attrs:{"current-page":t.page.pageIndex,"page-size":t.page.pageSize,background:"",layout:"total,prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}}),e("el-dialog",{attrs:{title:"订单详情",visible:t.dialogVisible,width:"45%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"orderstatus"},[e("img",{staticClass:"icon",attrs:{src:t.beforeimg,alt:""}}),e("span",{staticClass:"status"},[t._v(t._s(t.status))]),e("img",{attrs:{src:t.afterimg,alt:""}})]),e("el-form",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"订单编号:"}},[t._v(" "+t._s(t.chooseList.orderNo)+" ")])],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"商品名称:"}},[t._v(" "+t._s(t.chooseList.skuName)+" ")])],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"设备编号:"}},[t._v(" "+t._s(t.chooseList.innerCode)+" ")])],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"订单金额:"}},[t._v(" "+t._s(t.chooseList.price)+" ")])],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"完成时间:"}},[t._v(" "+t._s(t.chooseList.updateTime)+" ")])],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"创建时间:"}},[t._v(" "+t._s(t.chooseList.createTime)+" ")])],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"支付方式:"}},[t._v(" "+t._s(1===t.chooseList.payType?"支付宝支付":"微信支付")+" ")])],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"设备地址:"}},[t._v(" "+t._s(t.chooseList.addr)+" ")])],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1)},i=[],l=a(471);const r=t=>l.Z.get("/api/order-service/order/search",{params:t});var o={data(){return{beforeimg:"",afterimg:"",status:"",dialogVisible:!1,value1:"",tableData:[],page:{pageIndex:1,pageSize:10,orderNo:""},total:0,chooseList:[]}},created(){this.getOrderList()},methods:{async getOrderList(){const t=await r(this.page);t.currentPageRecords.forEach((t=>{t.price=(t.price/100).toFixed(2),t.updateTime=t.updateTime.replace("T"," "),t.createTime=t.updateTime.replace("T"," ")})),this.tableData=t.currentPageRecords,this.total=parseInt(t.totalCount)},handleCurrentChange(t){this.page.pageIndex=t,this.getOrderList()},formatStatus(t,e,a,s){return console.log(t),1===t.payStatus?"支付完成":4===t.status?"已失效":0===t.payStatus?"未支付":void 0},async search(){const[t,e]=this.value1;this.page.startDate=t,this.page.endDate=e,await r(this.page),this.getOrderList()},detail(t){this.dialogVisible=!0,this.chooseList=this.tableData.filter((e=>e.id===t));const[e]=this.chooseList;this.chooseList=e,console.log(this.chooseList),2===this.chooseList.status&&(this.status="出货成功",this.beforeimg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAADT0lEQVRIS62WX0hTcRTHv+d3V7MkKsVAbHdSLwWhkVEvBZVRL72UvURhRFQ09SpBqZPklrU5oayZkyD68xaYUFH0h5wP9dQfqCAqonST6ikjs2jr7p64103mNndndd8u58/n/M7vnN85BIvPPRwoY12rArAWwBIABXGTEQBvADwkYevzOFwvs7miqYRNobMVBPIBqLQKJi7vZ3Bju7P+WSb9NJDKqi0yXNAJwAWGyBEyrkbQwdRtl78cUknVkm0ngZpC3vmE/GsANkwLkK4cZPzY3u5s/poQTYDMk4QL7v0HSMJ30C6PbE6cbALUHPZ3gVH7jydJMacur7NOGc8qAPPiiR5P+06soiLozLzKKBAT1BzyP5hGdVm5HyPwXiapEKwHAPR7ncpGivfJCyvrXOREeCex2NrmrH3lDvk7GDhspk3Yyqk55D8GoDUXRxYNefunHts1r/TbaDRc2MPg/Un6xw1QEMD6vwYRdAKdnOn4on56ViwVLoheAfOOFH8DBugTgOK/AjFGdcHVPrn+hjp4KS8ixnoB3pLB12cD9AuAPSFkIEJADMDs7Kmi18ImbT1R4np75I1vjpQ36yYI66awiaSBSMJuTYs9kYR0FYyyjIaE67FZ+dUdRXu/q8OnC6I8445RxlkCM0GTUkeEPR5ZuawOqnlRqfAUAwfBnGhsnYhaPY46DwjsHuosZiHdB2OZRerN1KUWg06EfR5ZuWj22JB/GwgXxsuUdnocdXfMJv/cU0rR30b/Lc7hfgfIHT57nJmOpijrJMQBj6PWBLQM95RoIiL5ShrCxv+Roc6l0vhJFuYAARG3UeMHf7mQ8DzNwHzy4fI6lfPJMvfQuRUs9LtgFOUCMXT0GJYnnqD+TK82A0yEGq+s9Jgn+9i9RtditwDMzRUCIOh1KpXxRzVQAWhPKP7IJjsxYEJQPcfoPUjvtSr7SQEQdAFafVKue5o8Js6BUTONSK1VCd1eWTFHT+rgu/9Pz9Fk9IBdHtmUNvjMkg0F5hO0vv8AG2DYqtqdrvRRnggmvpycYYYr051ly1e8eAJ2x0hD1uUk2UlLuGulzmysW7kuKkFB1GhcfKZgptzrEspGn0k2rmKmNZkWSCJ+FNOoz7dIyTo8/wDHwkf9fxFtzQAAAABJRU5ErkJggg==",this.afterimg="https://likede2-admin.itheima.net/img/pic_2.3b5af41c.png"),0===this.chooseList.payStatus&&(this.status="未支付",this.beforeimg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAXCAYAAAAV1F8QAAABXUlEQVRIS72WvUrEQBSFz41jUqRTttDCwn4bGxNiKmvBwhT6EJZ2voDarC+hjSDaWgTiJquQylYlCEEQ10pBskNGBtxFREx2djMpJsW953wz3Pm5hO/P9/0FzvkegA0ASwBmh7Ex/wMATwAuGGOHURQ9Sz3JwfO8tbIszwHMj2lald43DGOz2+1ek+d5i2VZ3gGYq1Ipxt8Mw2iT4zgdItpVNKklE0Ick+u6DwCWaynUkx4lSBaPqXvUUnIJErVSJ0yaBqhPRDdCiI//5jIp6MiyrP0wDD+rFqwMEkKc9nq9bQkIgmAmy7K2bdv3YRi+/wVVBgFYTZLkVpq6rnsFYB1ATkQrcRy//IYpg4qiaKVp+ur7fotzPjImoq04js+mBtK2IgAnSZLsDGuU53nbNM1GaiQZze+6HzXQco6qjs8oruuuG+i7vXW8RwA6+l5YbT1Dg13QJWPsYNgFfQFCc6Z7usO36wAAAABJRU5ErkJggg==",this.afterimg="https://likede2-admin.itheima.net/img/pic_0.979e683d.png"),4===this.chooseList.status&&(this.status="已失效",this.beforeimg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAABqUlEQVRIS72WvUrDUBTH/6cGMjq4qO0DOFgQSocbcBFUnDWvURQER+0oCEpfI+5ii12E3KEEBB18gEZdHNwMxBy5tQ39sr1JaDLmnv/93Xu+7iHM+SzL2gRwxMzbADYArPQlnwBeiegRwK3rui+ztqL/Fi3L2mLmSwB78w7TX28S0Znruk/T7CdAtm0vdbvdK2auEVFBE9IzY+aIiBqlUunUcZyfYe0IqFKpLJum6TDzbhLAuC0RtYIgsD3P+xqsxSB1E9/377JC4o2JWsVi8WBwsxgkhLgGcJzlJlO0N1LKE/W/B1KBj6LI04iJE4ZhTWkMw2gAsGcdTMWsUChUVIL0QEKIe53sCsNwrdPpfChNtVpdNQzjXcMDTSnlPqk6YeZnDQFSgkBEZQW6YOZzHRCARK4bSow6CSEeAOxogtKatRXIB7Cus4OUcqTuhBCsowPwpkDfAEwdQQZQkCsoN9dpJ0MG17UTpXdaEBHVExVsBlA5UQtKCfprQQmbqk4VxDYTTbXfWBf/TChQbg+fguXylA8cm8twMhzphY9b42klhCgT0WHWAfIXFPYBcBvJ9uQAAAAASUVORK5CYII=",this.afterimg="https://likede2-admin.itheima.net/img/pic_4.e8208e34.png")}}},n=o,c=a(1001),p=(0,c.Z)(n,s,i,!1,null,"241413fa",null),d=p.exports}}]);
//# sourceMappingURL=842.92e47ca3.js.map