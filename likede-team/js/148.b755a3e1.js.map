{"version":3,"file":"js/148.b755a3e1.js","mappings":"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","sources":["webpack://likede/./src/views/user/UserList.vue","webpack://likede/./src/api/work.js","webpack://likede/src/views/user/UserList.vue","webpack://likede/./src/views/user/UserList.vue?bf2a","webpack://likede/./src/views/user/UserList.vue?fe28"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pople\"},[_c('el-card',{staticClass:\"box-card\"},[_c('span',{staticClass:\"tittle\"},[_vm._v(\"人员搜索:\")]),_c('el-input',{staticClass:\"bigbox\",attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.findlist.userName),callback:function ($$v) {_vm.$set(_vm.findlist, \"userName\", $$v)},expression:\"findlist.userName\"}}),_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.findfn}},[_vm._v(\"查询\")])],1),_c('el-button',{staticClass:\"add\",attrs:{\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.showDialog}},[_vm._v(\"新建\")]),_c('el-dialog',{attrs:{\"title\":this.fromlist.regionId ? '编辑' : '新增',\"custom-class\":\"radio\",\"visible\":_vm.dialogVisible,\"width\":\"45%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"fff\",attrs:{\"label-width\":\"80px\",\"model\":_vm.fromlist,\"rules\":_vm.roleRules}},[_c('el-form-item',{attrs:{\"label\":\"人员名称\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.fromlist.userName),callback:function ($$v) {_vm.$set(_vm.fromlist, \"userName\", $$v)},expression:\"fromlist.userName\"}})],1),_c('i',[_vm._v(\"角色 :\")]),_c('el-select',{ref:\"sele\",staticStyle:{\"width\":\"87%\",\"margin-bottom\":\"15px\",\"margin-left\":\"45px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.fromlist.roleId),callback:function ($$v) {_vm.$set(_vm.fromlist, \"roleId\", $$v)},expression:\"fromlist.roleId\"}},_vm._l((_vm.roleList),function(item){return _c('el-option',{key:item.roleId,attrs:{\"label\":item.roleName,\"value\":item.roleId}})}),1),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入内容\",\"maxlength\":\"11\",\"show-word-limit\":\"\"},model:{value:(_vm.fromlist.mobile),callback:function ($$v) {_vm.$set(_vm.fromlist, \"mobile\", $$v)},expression:\"fromlist.mobile\"}})],1),_c('i',[_vm._v(\"负责区域:\")]),_c('el-select',{staticStyle:{\"width\":\"545px\",\"margin-bottom\":\"15px\",\"margin-left\":\"20px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.fromlist.regionId),callback:function ($$v) {_vm.$set(_vm.fromlist, \"regionId\", $$v)},expression:\"fromlist.regionId\"}},_vm._l((_vm.regionList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1),_c('el-form-item',[_c('i',{staticStyle:{\"transform\":\"translate(-20px, 10px)\"}},[_vm._v(\"头像：\")]),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"action\":\"https://jsonplaceholder.typicode.com/posts/\",\"multiple\":\"\"},model:{value:(_vm.fromlist.image),callback:function ($$v) {_vm.$set(_vm.fromlist, \"image\", $$v)},expression:\"fromlist.image\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\" 将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\" 支持扩展名：jpg、png，文件不得大于100kb \")])])],1),_c('i',{staticStyle:{\"margin-left\":\"19px\"}},[_vm._v(\"状态\")]),_c('el-form-item',[_c('el-checkbox',{staticStyle:{\"transform\":\"translate(-10px, -28px)\"},model:{value:(_vm.fromlist.status),callback:function ($$v) {_vm.$set(_vm.fromlist, \"status\", $$v)},expression:\"fromlist.status\"}},[_vm._v(\"是否启用\")])],1)],1),_c('template',{slot:\"footer\"},[_c('el-button',{staticStyle:{\"transform\":\"translate(-330px, -52px)\"},on:{\"click\":_vm.addfn}},[_vm._v(\"取 消\")]),_c('el-button',{staticStyle:{\"transform\":\"translate(-306px, -52px)\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmAdd}},[_vm._v(\"确 定\")])],1)],2),_c('el-table',{staticClass:\"Table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list}},[_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"序号\",\"width\":\"120\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"人员名称\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"prop\":\"regionName\",\"label\":\"归属区域\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"prop\":\"role.roleName\",\"label\":\"角色\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"联系电话\",\"width\":\"450\"}}),_c('el-table-column',{attrs:{\"prop\":\"zip\",\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"block\"},[_c('span',[_vm._v(\"共\"+_vm._s(_vm.totalCount)+\"条记录 第\"+_vm._s(_vm.pageIndex)+\"/\"+_vm._s(_vm.totalPage)+\"页\")]),_c('el-row',{staticClass:\"info\"},[_c('el-button',{staticClass:\"bix\",attrs:{\"type\":\"info\"},on:{\"click\":_vm.upfn}},[_vm._v(\"上一页\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.nextfn}},[_vm._v(\"下一页\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import service from '@/utils/request'\n\nexport const getloginimg = (data) => {\n  return service.get('/api/user-service/user/imageCode/' + data, {\n    headers: {},\n    responseType: 'blob'\n  })\n}\n\nexport const loginjiekou = (data) => {\n  return service({\n    url: '/api/user-service/user/login',\n    method: 'post',\n    data\n  })\n}\n\n// 角色列表\nexport const gerUser = (params) => {\n  return service({\n    url: '/api/user-service/user/search',\n    method: 'get',\n    params\n  })\n}\n\n// 删除角色列表\nexport const delUser = (id) => {\n  return service.delete(`/api/user-service/user/${id}`)\n}\n\n// 添加角色\nexport const addUser = (data) => {\n  return service({\n    url: '/api/user-service/user',\n    method: 'post',\n    data\n  })\n}\n\n// 新增弹窗的角色下拉框接口\nexport const getRoleList = (params) => {\n  return service({\n    url: '/api/user-service/role',\n    method: 'get',\n    params\n  })\n}\n\n// 新增弹窗的区域下拉框接口\nexport const getRegionList = (params) => {\n  return service({\n    url: '/api/vm-service/region/search?pageIndex=1&pageSize=100000',\n    method: 'get',\n    params\n  })\n}\n\n// 修改角色接口\nexport const bianjiList = (params) => {\n  return service({\n    url: '/api/user-service/role',\n    method: 'GET',\n    params\n  })\n}\n\n// 更新数据\nexport const updeateList = (id, data) => {\n  return service({\n    url: `/api/user-service/user/${id}`,\n    method: 'PUT',\n    data\n  })\n}\n\n// 查找\nexport const findgetlist = (params) => {\n  return service({\n    url: '/api/user-service/user/search',\n    method: 'GET',\n    params\n  })\n}\n","<template>\n  <div class=\"pople\">\n    <el-card class=\"box-card\">\n      <span class=\"tittle\">人员搜索:</span>\n      <el-input placeholder=\"请输入\" v-model=\"findlist.userName\" class=\"bigbox\"></el-input>\n      <el-button type=\"primary\" class=\"btn\" size=\"medium\" @click=\"findfn\">查询</el-button>\n    </el-card>\n    <!-- 新建对话框 -->\n    <el-button\n      class=\"add\"\n      icon=\"el-icon-circle-plus-outline\"\n      @click=\"showDialog\"\n      >新建</el-button\n    >\n    <el-dialog\n      :title=\"this.fromlist.regionId ? '编辑' : '新增'\"\n      custom-class=\"radio\"\n      :visible.sync=\"dialogVisible\"\n      width=\"45%\"\n      :before-close=\"handleClose\"\n    >\n      <el-form\n        label-width=\"80px\"\n        :model=\"fromlist\"\n        :rules=\"roleRules\"\n        ref=\"fff\"\n      >\n        <el-form-item label=\"人员名称\" prop=\"userName\">\n          <el-input\n            placeholder=\"请输入内容\"\n            v-model=\"fromlist.userName\"\n          ></el-input>\n        </el-form-item>\n        <!-- 2 -->\n        <i>角色 :</i>\n        <el-select\n        ref=\"sele\"\n          v-model=\"fromlist.roleId\"\n          placeholder=\"请选择\"\n          style=\"width: 87%; margin-bottom: 15px; margin-left: 45px\"\n        >\n          <el-option\n            v-for=\"item in roleList\"\n            :key=\"item.roleId\"\n            :label=\"item.roleName\"\n            :value=\"item.roleId\"\n          >\n          </el-option>\n        </el-select>\n        <el-form-item label=\"联系电话\" prop=\"mobile\">\n          <el-input\n            type=\"text\"\n            placeholder=\"请输入内容\"\n            v-model=\"fromlist.mobile\"\n            maxlength=\"11\"\n            show-word-limit\n          />\n        </el-form-item>\n        <!-- 4 -->\n        <i>负责区域:</i>\n        <el-select\n          v-model=\"fromlist.regionId\"\n          placeholder=\"请选择\"\n          style=\"width: 545px; margin-bottom: 15px; margin-left: 20px\"\n        >\n          <el-option\n            v-for=\"item in regionList\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\"\n          >\n          </el-option>\n        </el-select>\n        <!-- 1- 调接口 2- 获取到数据塞到本地的data\n        3- 使用刚刚声明的data，用到el-option，并且显示对应的中文在option里面，\n        然后在绑定正确的value，\n        完成option之后，马上去完成select的v-mode绑定的值 -->\n        <!-- <3> -->\n        <!-- 5图片 -->\n        <!-- 输入框  下拉框  时间选择器 原点radio check-radio  反复练习 并不是会做的，简单的，喜欢做的，我就拼命多做\n        而是自己不会的，不喜欢的，麻烦的，容易出错的，才要多做\n          -->\n        <el-form-item>\n          <i style=\"transform: translate(-20px, 10px)\">头像：</i>\n          <el-upload\n            class=\"upload-demo\"\n            drag\n            v-model=\"fromlist.image\"\n            action=\"https://jsonplaceholder.typicode.com/posts/\"\n            multiple\n          >\n            <i class=\"el-icon-upload\"></i>\n            <div class=\"el-upload__text\">\n              将文件拖到此处，或<em>点击上传</em>\n            </div>\n            <div class=\"el-upload__tip\" slot=\"tip\">\n              支持扩展名：jpg、png，文件不得大于100kb\n            </div>\n          </el-upload>\n        </el-form-item>\n        <i style=\"margin-left: 19px\">状态</i>\n        <el-form-item>\n          <!-- `checked` 为 true 或 false -->\n          <el-checkbox\n            v-model=\"fromlist.status\"\n            style=\"transform: translate(-10px, -28px)\"\n            >是否启用</el-checkbox\n          >\n        </el-form-item>\n      </el-form>\n      <template slot=\"footer\">\n        <el-button @click=\"addfn\" style=\"transform: translate(-330px, -52px)\"\n          >取 消</el-button\n        >\n        <el-button\n          type=\"primary\"\n          @click=\"confirmAdd\"\n          style=\"transform: translate(-306px, -52px)\"\n          >确 定</el-button\n        >\n      </template>\n    </el-dialog>\n    <el-table :data=\"list\" style=\"width: 100%\" class=\"Table\">\n      <el-table-column prop=\"date\" label=\"序号\" width=\"120\" type=\"index\">\n      </el-table-column>\n      <el-table-column prop=\"userName\" label=\"人员名称\" width=\"300\">\n      </el-table-column>\n      <el-table-column prop=\"regionName\" label=\"归属区域\" width=\"300\">\n      </el-table-column>\n      <el-table-column prop=\"role.roleName\" label=\"角色\" width=\"300\">\n      </el-table-column>\n      <el-table-column prop=\"mobile\" label=\"联系电话\" width=\"450\">\n      </el-table-column>\n      <el-table-column prop=\"zip\" label=\"操作\" width=\"200\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\"\n            >修改</el-button\n          >\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(scope.$index, scope.row)\"\n            >删除</el-button\n          >\n        </template></el-table-column\n      >\n    </el-table>\n    <div class=\"block\">\n      <span>共{{ totalCount }}条记录 第{{ pageIndex }}/{{ totalPage }}页</span>\n      <el-row class=\"info\">\n        <el-button type=\"info\" class=\"bix\" @click=\"upfn\">上一页</el-button>\n        <el-button type=\"info\" @click=\"nextfn\">下一页</el-button>\n      </el-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { gerUser, delUser, addUser, getRoleList, getRegionList, bianjiList, updeateList, findgetlist } from '@/api/work'\n\n// import { Message } from 'element-ui'\nexport default {\n  data () {\n    return {\n      list: [],\n      pageIndex: 1, // 当前页\n      totalCount: '', // 总共多少条数据\n      totalPage: '', // 总页数\n      pageSize: '',\n      dialogVisible: false,\n      findlist: {\n        userName: '',\n        pageIndex: '',\n        pageSize: ''\n      },\n      value: '',\n\n      fromlist: {\n        mobile: '',\n        userName: '',\n        regionId: '',\n        regionName: '',\n        status: '',\n        image: '',\n        roleId: '',\n        checked: '',\n        loginName: ''\n      },\n      roleRules: {\n        userName: [{ required: true, message: '活动名称不能为空', trigger: 'blur' }],\n        mobile: [{ required: true, message: '请输入您的手机号码哦', trigger: 'blur' },\n          { pattern: /^1[3-9]\\d{9}$/, message: '手机号格式不正确', trigger: 'blur' }\n        ]\n      },\n      checked: false,\n      options: [{\n        value: '选项1',\n        label: '黄金糕'\n      }\n      ],\n      roleList: [],\n      regionList: []\n    }\n  },\n  async created () {\n    this.getUserTableData()\n  },\n\n  computed: {\n    showtitle () {\n      return this.fromlist.regionId ? '编辑部门' : '新增部门'\n    }\n  },\n  methods: {\n    async findfn () {\n      const res = await findgetlist(this.findlist)\n      this.list = res.currentPageRecords\n      // this.getUserTableData()\n      console.log(res)\n    },\n    async handleEdit (index, row) {\n      this.dialogVisible = true\n      await bianjiList(this.fromlist)\n      console.log(row)\n      this.fromlist.userName = row.userName\n      this.fromlist.mobile = row.mobile\n      this.fromlist.regionId = row.regionId\n      this.fromlist.status = row.status\n      this.fromlist.image = row.image\n      this.fromlist.regionName = row.regionName\n      this.fromlist.roleId = row.role.regionId\n      this.fromlist.checked = row.checked\n    },\n    async showDialog () {\n      this.dialogVisible = true\n      this.roleList = await getRoleList()\n      const { currentPageRecords } = await getRegionList()\n      this.regionList = currentPageRecords\n    },\n    async confirmAdd () {\n      if (this.fromlist.regionId) {\n        await updeateList(this.fromlist.roleId, this.fromlist)\n      }\n      await this.$nextTick()\n      // console.log(this.$refs.form.validate())\n      this.fromlist.regionName = this.regionList.find(item => item.id === this.fromlist.regionId).name\n      // 2- 准备完成，就开始调接口,\n      const res = await addUser(this.fromlist)\n      if (res) {\n        this.dialogVisible = false\n        // todo： 填写表单清空\n        this.$message.success('新增成功')\n        this.$refs.fff.resetFields()\n        this.fromlist = {\n          mobile: '',\n          userName: '',\n          regionId: '',\n          regionName: '',\n          status: '',\n          image: '',\n          roleId: '',\n          checked: '',\n          loginName: ''\n        }\n        this.getUserTableData()\n        // 如果有id就是编辑 没有id就是新增\n      }\n      // 3- 调接口成功的后续工作：弹窗关闭，填写表单清空，刷新页面重新调列表接口，查看刚才添加的数据是否能显示在列表中，\n    },\n    nextfn () {\n      console.log(this.totalPage, this.pageIndex)\n      if (this.pageIndex === this.totalPage) {\n        return\n      }\n      this.pageIndex = Number(this.pageIndex) + 1\n      this.getUserTableData()\n    },\n    async getUserTableData () {\n      const params = {\n        pageIndex: this.pageIndex,\n        pageSize: 10,\n        userName: '',\n        roleId: '',\n        isRepair: ''\n      }\n      const { currentPageRecords, pageIndex, totalCount, totalPage, pageSize } = await gerUser(params)\n      this.list = currentPageRecords\n      this.pageIndex = pageIndex\n      this.totalPage = totalPage\n      this.totalCount = totalCount\n      this.pageSize = pageSize\n    },\n\n    upfn () {\n      if (this.pageIndex === 0) {\n        return\n      }\n      this.pageIndex = Number(this.pageIndex) - 1\n      this.getUserTableData()\n    },\n    handleClose (done) {\n      this.$confirm('确认关闭？')\n        .then((_) => {\n          done()\n          this.$refs.fff.resetFields()\n        })\n        .catch((_) => {})\n    },\n\n    // 删除\n    async handleDelete (index, row) {\n      try {\n        await delUser(row.id)\n        this.getUserTableData()\n        this.$message.success('删除成功！')\n      } catch (error) {\n        this.$message.success('删除没有成功,请重新删除')\n      }\n    },\n    addfn () {\n      this.dialogVisible = false\n      this.$refs.fff.resetFields()\n      addUser({\n        userName: this.fromlist.username,\n        roleId: this.fromlist.roleid,\n        mobile: this.fromlist.mobile,\n        regionId: this.fromlist.regionId,\n        regionName: this.fromlist.regionName,\n        status: this.fromlist.status,\n        image: this.fromlist.imagey\n      })\n    }\n  }\n}\n</script>\n<style scope>\n.pople {\n  background-color: rgb(248, 250, 253);\n  width: 100%;\n  height: 100%vh;\n}\n.box-card {\n  height: 85px;\n  position: relative;\n}\n.bigbox {\n  position: absolute;\n  margin-top: 25px;\n  left: 97px;\n  top: -4px;\n  width: 205px;\n  height: 39px;\n}\n.tittle {\n  position: absolute;\n  margin-top: 10px;\n}\n.btn {\n  position: absolute;\n  left: 317px;\n  margin-top: 4px;\n}\n.Table {\n  margin-top: 20px;\n  border-bottom: none;\n}\n.add {\n  background: linear-gradient(135deg, #ff9743, #ff5e20) !important;\n  border: none;\n  width: 80px !important;\n  justify-content: center;\n  -webkit-box-align: center;\n  color: #fff;\n  margin-top: 18px;\n}\n.block {\n  margin-top: 20px;\n  display: flex;\n  justify-content: space-between;\n}\n.info {\n  margin-right: 80px;\n  display: flex;\n}\n.bix {\n  margin-right: 20px;\n  background-size: 16px;\n  font-size: 13px;\n}\n.radio {\n  /* border-radius:4% ; */\n  border-radius: 15px;\n}\n.el-dialog__body {\n  position: relative;\n}\n.el-upload-dragger {\n  width: 187px;\n  height: 150px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserList.vue?vue&type=template&id=451ec7ad&\"\nimport script from \"./UserList.vue?vue&type=script&lang=js&\"\nexport * from \"./UserList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserList.vue?vue&type=style&index=0&id=451ec7ad&prod&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","model","value","findlist","userName","callback","$$v","$set","expression","on","findfn","showDialog","fromlist","regionId","dialogVisible","handleClose","$event","ref","roleRules","staticStyle","roleId","_l","roleList","item","key","roleName","mobile","regionList","id","name","image","slot","status","addfn","confirmAdd","list","scopedSlots","_u","fn","scope","handleEdit","$index","row","handleDelete","_s","totalCount","pageIndex","totalPage","upfn","nextfn","staticRenderFns","gerUser","params","service","url","method","delUser","addUser","data","getRoleList","getRegionList","bianjiList","updeateList","findgetlist","pageSize","regionName","checked","loginName","required","message","trigger","pattern","options","label","computed","showtitle","methods","console","currentPageRecords","isRepair","then","done","catch","component"],"sourceRoot":""}