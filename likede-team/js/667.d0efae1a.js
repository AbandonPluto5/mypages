"use strict";(self["webpackChunklikede"]=self["webpackChunklikede"]||[]).push([[667],{5667:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticClass:"box-card1"},[e("span",{staticClass:"tittle"},[t._v("人员搜索:")]),e("el-input",{staticClass:"bigbox",attrs:{placeholder:"请输入"},model:{value:t.findList.userName,callback:function(e){t.$set(t.findList,"userName",e)},expression:"findList.userName"}}),e("el-button",{staticClass:"btn",staticStyle:{"margin-left":"30px"},attrs:{type:"primary",size:"medium"},on:{click:t.findfn}},[t._v("查询")])],1),e("el-table",{staticClass:"Table1",staticStyle:{width:"100%"},attrs:{data:t.data}},[e("el-table-column",{attrs:{prop:"date",label:"序号",width:"120",type:"index"}}),e("el-table-column",{attrs:{prop:"userName",label:"人员名称",width:"250"}}),e("el-table-column",{attrs:{prop:"roleName",label:"角色",width:"200"}}),e("el-table-column",{attrs:{prop:"mobile",label:"联系电话",width:"250"}}),e("el-table-column",{attrs:{prop:"workCount",label:"完成本单(本月)",width:"250"}}),e("el-table-column",{attrs:{prop:"progressTotal",label:"进行中工单",width:"250"}}),e("el-table-column",{attrs:{prop:"cancelCount",label:"拒绝工单(本月)",width:"250"}}),e("el-table-column",{attrs:{prop:"zip",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticStyle:{color:"blue"},attrs:{size:"mini"},on:{click:function(e){return t.handleEdit(a.$index,a.row)}}},[t._v("查看详情")])]}}])})],1),e("el-dialog",{staticClass:"dialog_border",staticStyle:{"border-radius":"20px"},attrs:{title:"人员详情",visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"card_fromlist"},[e("div",{staticClass:"card_fromlist_title"},[e("span",[t._v("人员名称: "+t._s(t.formlist.userName))]),e("span",{staticStyle:{transform:"translateX(-60px)"}},[t._v("角色："+t._s(t.formlist.roleName))]),e("span",{staticStyle:{transform:"translateX(-100px)"}},[t._v("联系电话："+t._s(t.formlist.mobile))])]),e("div",{staticClass:"card_fromlist_title2"},[e("span",[t._v("负责区域：金燕龙办公楼")])])]),e("el-table",{staticStyle:{width:"100% margin-top: 60px"},attrs:{data:t.gongdan,border:""}},[e("el-table-column",{attrs:{prop:"date",label:"",width:"145"}},[[e("div",[t._v("本周")])]],2),e("el-table-column",{attrs:{prop:"total",label:"总工单数",width:"145"}}),e("el-table-column",{attrs:{prop:"cancelCount",label:"拒绝工单",width:"145"}}),e("el-table-column",{attrs:{prop:"workCount",label:"完成工单",width:"145"}}),e("el-table-column",{attrs:{prop:"progressTotal",label:"进行中工单",width:"145"}})],1)],1),e("div",{staticClass:"block1"},[e("span",[t._v("共"+t._s(t.totalCount)+"条记录 第"+t._s(t.pageIndex)+"/"+t._s(t.totalPage)+"页")]),e("el-row",{staticClass:"info1"},[e("el-button",{staticClass:"bix1",attrs:{type:"info"},on:{click:t.lastpage}},[t._v("上一页")]),e("el-button",{attrs:{type:"info"},nativeOn:{click:function(e){return t.nextpage.apply(null,arguments)}}},[t._v("下一页")])],1)],1)],1)},l=[],i=(a(7658),a(471));const o=t=>(0,i.Z)({url:"https://likede2-admin.itheima.net/likede/api/user-service/user/searchUserWork",method:"GET",params:t}),r=t=>(0,i.Z)({url:"/api/user-service/user/searchUserWork",method:"GET",params:t}),n=t=>(0,i.Z)({url:"https://likede2-admin.itheima.net/likede/api/task-service/task/userWork",method:"GET",params:t});var d={data(){return{tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}],dialogVisible:!1,worklist:{start:"",end:""},pageIndex:"",pageSize:"",totalCount:"",totalPage:"",findList:{pageIndex:"",pageSize:"",userName:""},formlist:{},gongdan:[]}},created(){this.getworokist()},methods:{async handleEdit(t,e){this.dialogVisible=!0,this.formlist=JSON.parse(JSON.stringify(e));const a=await n({userId:e.userId,start:"2022-01-01 00:00:00",end:"2022-12-01 23:59:59"});this.gongdan.push(a),console.log(this.gongdan)},async findfn(){const t=await r(this.findList);this.data=t.currentPageRecords,this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.totalCount=t.totalCount},async getworokist(){const{currentPageRecords:t,pageIndex:e,totalPage:a,totalCount:s}=await o({pageSize:this.pageSize,pageIndex:this.pageIndex});this.data=t,this.totalCount=s,this.pageIndex=e,this.totalPage=a,console.log(this.data)},lastpage(){0!==this.pageIndex&&(this.pageIndex=Number(this.pageIndex)-1,this.getworokist())},nextpage(){console.log(this.totalPage,this.pageIndex),this.pageIndex!==this.totalPage&&(this.pageIndex=Number(this.pageIndex)+1,this.getworokist())}}},p=d,c=a(1001),u=(0,c.Z)(p,s,l,!1,null,"8d3252ca",null),h=u.exports}}]);
//# sourceMappingURL=667.d0efae1a.js.map